{"version":3,"file":"credential-badge.stories-80e1ecad.js","sources":["../../src/components/credential-badge.tsx"],"sourcesContent":["\"use client\";\nimport { splitAndTruncateDID } from \"../lib/truncate-did\";\nimport \"../styles.css\";\nimport { VerifableCredential } from \"../types/verifiable-credential\";\nimport { Tag } from \"./shared/tag\";\nimport { TimeFromUtc } from \"./shared/time-from-utc\";\nimport {\n\tDialog,\n\tDialogContent,\n\tDialogDescription,\n\tDialogHeader,\n\tDialogTitle,\n\tDialogTrigger,\n} from \"./ui/dialog\";\nimport classNames from \"clsx\";\nimport * as React from \"react\";\n\ntype Props = React.HTMLAttributes<HTMLElement> & {\n\tcredential: VerifableCredential;\n\timg: React.ReactElement;\n};\n\nexport const CredentialBadge = ({\n\tclassName,\n\tcredential,\n\timg = (\n\t\t// rome-ignore lint/a11y/noSvgWithoutTitle: <explanation>\n\t\t<svg\n\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\twidth=\"62\"\n\t\t\theight=\"62\"\n\t\t\tviewBox=\"0 0 24 24\"\n\t\t\tfill=\"none\"\n\t\t\tstroke=\"currentColor\"\n\t\t\tstroke-width=\"2\"\n\t\t\tstroke-linecap=\"round\"\n\t\t\tstroke-linejoin=\"round\"\n\t\t>\n\t\t\t<circle cx=\"12\" cy=\"12\" r=\"4\" />\n\t\t\t<path d=\"M12 4h.01\" />\n\t\t\t<path d=\"M20 12h.01\" />\n\t\t\t<path d=\"M12 20h.01\" />\n\t\t\t<path d=\"M4 12h.01\" />\n\t\t\t<path d=\"M17.657 6.343h.01\" />\n\t\t\t<path d=\"M17.657 17.657h.01\" />\n\t\t\t<path d=\"M6.343 17.657h.01\" />\n\t\t\t<path d=\"M6.343 6.343h.01\" />\n\t\t</svg>\n\t),\n}: Props) => {\n\tconst [credentialDetails, setCredentialDetails] = React.useState<{\n\t\tid: string;\n\t\ttitle: string;\n\t\tdescription: string;\n\t\trequired: Array<string>;\n\t\tproperties: any;\n\t} | null>();\n\tReact.useEffect(() => {\n\t\tif (credential) {\n\t\t\t(async () => {\n\t\t\t\tconst schema = await fetch(credential.credentialSchema.id);\n\t\t\t\tconst schemaJson = await schema.json();\n\t\t\t\tsetCredentialDetails({\n\t\t\t\t\tid: schemaJson.$id,\n\t\t\t\t\ttitle: schemaJson.title,\n\t\t\t\t\tdescription: schemaJson.description,\n\t\t\t\t\trequired: schemaJson.required,\n\t\t\t\t\tproperties: schemaJson.properties,\n\t\t\t\t});\n\t\t\t})();\n\t\t}\n\t}, [credential]);\n\n\tconst classes = classNames(\n\t\tclassName,\n\t\t\"CredentialBadge\",\n\t\t\"max-w-xs min-h-[340px]\",\n\t\t\"flex flex-col justify-between\",\n\t\t\"bg-white border-2 border-neutral-200 rounded-3xl overflow-hidden\",\n\t\t\"bg-gradient-to-b from-white to-slate-100\",\n\t);\n\treturn (\n\t\t<div className={classes}>\n\t\t\t<div className=\"grid grid-cols-2 p-4 lg:p-7 flex-1\">{img}</div>\n\t\t\t<div className=\"flex flex-col p-4\">\n\t\t\t\t<span className=\"text-xs font-light\">Credential</span>\n\t\t\t\t<h3 className=\"text-lg lg:text-4xl font-black\">\n\t\t\t\t\t{credentialDetails?.title}\n\t\t\t\t</h3>\n\t\t\t\t<span className=\"mt-4\">\n\t\t\t\t\t<DialogManager credentialDetails={credentialDetails} />\n\t\t\t\t</span>\n\t\t\t</div>\n\t\t\t<div className=\"grid grid-cols-2 bg-neutral-100 p-4 border-t-2\">\n\t\t\t\t<div className=\"col-span-1 flex flex-col gap-y-2\">\n\t\t\t\t\t<span className=\"text-xs text-neutral-700 font-black mt-2\">\n\t\t\t\t\t\t<TimeFromUtc type=\"DATETIME\" date={credential.issuanceDate} />\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<span className=\"text-gray-500 font-normal\">Issuance</span>\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"col-span-1 flex justify-end items-center text-right\">\n\t\t\t\t\t<span className=\"text-xs text-neutral-700 font-black mt-2\">\n\t\t\t\t\t\t{splitAndTruncateDID(credential.issuer.id)}\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<span className=\"text-gray-500 font-normal\">Issued By</span>\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nconst DialogManager = ({ credentialDetails }: any) => {\n\treturn (\n\t\t<Dialog>\n\t\t\t<DialogTrigger>\n\t\t\t\t<Tag variant=\"secondary\">Details</Tag>\n\t\t\t</DialogTrigger>\n\t\t\t<DialogContent>\n\t\t\t\t<DialogHeader>\n\t\t\t\t\t<DialogTitle>Credential Details</DialogTitle>\n\t\t\t\t\t<DialogDescription className=\"sr-only\">\n\t\t\t\t\t\tTechnical details about the credential and its schema.\n\t\t\t\t\t</DialogDescription>\n\t\t\t\t\t<div className=\"mt-12 block\">\n\t\t\t\t\t\t<h3 className=\"text-lg lg:text-4xl font-black\">\n\t\t\t\t\t\t\t{credentialDetails?.title}\n\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t<p className=\"text-sm lg:text-base text-neutral-500\">\n\t\t\t\t\t\t\t{credentialDetails?.description}\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<div className=\"\">\n\t\t\t\t\t\t\t<span className=\"\">Required Field</span>\n\t\t\t\t\t\t\t<div className=\"flex flex-row gap-x-2\">\n\t\t\t\t\t\t\t\t{credentialDetails?.required.map((required: string) => {\n\t\t\t\t\t\t\t\t\treturn <span className=\"text-xs font-bold\">{required}</span>;\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</DialogHeader>\n\t\t\t</DialogContent>\n\t\t</Dialog>\n\t);\n};\n"],"names":["CredentialBadge","className","credential","img","jsxs","jsx","credentialDetails","setCredentialDetails","React.useState","React.useEffect","schemaJson","classes","classNames","DialogManager","TimeFromUtc","splitAndTruncateDID","Dialog","DialogTrigger","Tag","DialogContent","DialogHeader","DialogTitle","DialogDescription","required"],"mappings":"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"}