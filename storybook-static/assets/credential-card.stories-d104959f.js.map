{"version":3,"file":"credential-card.stories-d104959f.js","sources":["../../src/components/credential-card.tsx"],"sourcesContent":["\"use client\";\nimport { splitAndTruncateDID } from \"../lib/truncate-did\";\nimport \"../styles.css\";\nimport { VerifableCredential } from \"../types/verifiable-credential\";\nimport { Tag } from \"./shared/tag\";\nimport { TimeFromUtc } from \"./shared/time-from-utc\";\nimport {\n\tDialog,\n\tDialogContent,\n\tDialogDescription,\n\tDialogHeader,\n\tDialogTitle,\n\tDialogTrigger,\n} from \"./ui/dialog\";\nimport classNames from \"clsx\";\nimport * as React from \"react\";\n\ntype Props = React.HTMLAttributes<HTMLElement> & {\n\tcredential: VerifableCredential;\n};\n\nexport const CredentialCard = ({ className, credential }: Props) => {\n\tconst [credentialDetails, setCredentialDetails] = React.useState<{\n\t\tid: string;\n\t\ttitle: string;\n\t\tdescription: string;\n\t\trequired: Array<string>;\n\t\tproperties: any;\n\t} | null>();\n\tReact.useEffect(() => {\n\t\tif (credential) {\n\t\t\t(async () => {\n\t\t\t\tconst schema = await fetch(credential.credentialSchema.id);\n\t\t\t\tconst schemaJson = await schema.json();\n\t\t\t\tsetCredentialDetails({\n\t\t\t\t\tid: schemaJson.$id,\n\t\t\t\t\ttitle: schemaJson.title,\n\t\t\t\t\tdescription: schemaJson.description,\n\t\t\t\t\trequired: schemaJson.required,\n\t\t\t\t\tproperties: schemaJson.properties,\n\t\t\t\t});\n\t\t\t})();\n\t\t}\n\t}, [credential]);\n\n\tconst classes = classNames(\n\t\tclassName,\n\t\t\"CredentialCard\",\n\t\t\"flex flex-col justify-between max-w-xl\",\n\t\t\"bg-white border-2 border-neutral-200 rounded-lg overflow-hidden\",\n\t);\n\treturn (\n\t\t<div className={classes}>\n\t\t\t<div className=\"grid grid-cols-2 p-4\">\n\t\t\t\t<div className=\"col-span-1\">\n\t\t\t\t\t<span className=\"text-xs font-bold\">Credential</span>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"col-span-1 flex justify-end items-center\">\n\t\t\t\t\t<Dialog>\n\t\t\t\t\t\t<DialogTrigger>\n\t\t\t\t\t\t\t<Tag>Details</Tag>\n\t\t\t\t\t\t</DialogTrigger>\n\t\t\t\t\t\t<DialogContent>\n\t\t\t\t\t\t\t<DialogHeader>\n\t\t\t\t\t\t\t\t<DialogTitle>Credential Details</DialogTitle>\n\t\t\t\t\t\t\t\t<DialogDescription className=\"sr-only\">\n\t\t\t\t\t\t\t\t\tTechnical details about the credential and its schema.\n\t\t\t\t\t\t\t\t</DialogDescription>\n\t\t\t\t\t\t\t\t<div className=\"mt-12 block\">\n\t\t\t\t\t\t\t\t\t<h3 className=\"text-lg lg:text-4xl font-black\">\n\t\t\t\t\t\t\t\t\t\t{credentialDetails?.title}\n\t\t\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t\t\t<p className=\"text-sm lg:text-base text-neutral-500\">\n\t\t\t\t\t\t\t\t\t\t{credentialDetails?.description}\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t<div className=\"\">\n\t\t\t\t\t\t\t\t\t\t<span className=\"\">Required Field</span>\n\t\t\t\t\t\t\t\t\t\t<div className=\"flex flex-row gap-x-2\">\n\t\t\t\t\t\t\t\t\t\t\t{credentialDetails?.required.map((required) => {\n\t\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-xs font-bold\">{required}</span>\n\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</DialogHeader>\n\t\t\t\t\t\t</DialogContent>\n\t\t\t\t\t</Dialog>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className=\"flex-1 flex flex-col p-4\">\n\t\t\t\t<h3 className=\"text-lg lg:text-4xl font-black\">\n\t\t\t\t\t{credentialDetails?.title}\n\t\t\t\t</h3>\n\t\t\t\t<p className=\"text-sm lg:text-base text-neutral-500\">\n\t\t\t\t\t{credentialDetails?.description}\n\t\t\t\t</p>\n\t\t\t\t<span className=\"text-xs text-neutral-700 font-black mt-2\">\n\t\t\t\t\tIssued on{\" \"}\n\t\t\t\t\t<TimeFromUtc type=\"DATETIME\" date={credential.issuanceDate} />\n\t\t\t\t</span>\n\t\t\t</div>\n\t\t\t<div className=\"grid grid-cols-2 gap-x-3 bg-neutral-100 p-4\">\n\t\t\t\t<div className=\"col-span-1 flex flex-col gap-y-2\">\n\t\t\t\t\t<span className=\"block break-all text-xs\">\n\t\t\t\t\t\t<span className=\"font-bold\">Recipient</span> <br />{\" \"}\n\t\t\t\t\t\t{splitAndTruncateDID(credential.credentialSubject.id)}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"col-span-1 flex justify-end items-center\">\n\t\t\t\t\t<span className=\"block break-all text-xs\">\n\t\t\t\t\t\t<span className=\"font-bold\">Issuer</span> <br />{\" \"}\n\t\t\t\t\t\t{splitAndTruncateDID(credential.issuer.id)}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n"],"names":["CredentialCard","className","credential","credentialDetails","setCredentialDetails","React.useState","React.useEffect","schemaJson","classes","classNames","jsxs","jsx","Dialog","DialogTrigger","Tag","DialogContent","DialogHeader","DialogTitle","DialogDescription","required","TimeFromUtc","splitAndTruncateDID"],"mappings":"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"}